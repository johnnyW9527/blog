#### 3 redis的发布和订阅

##### 3.1 什么时发布和订阅

> redis发布订阅（pub/sub）是一种消息通信模式：发布者（pub）发布消息，订阅者（sub）接收消息
>
> redis客户端可以订阅任意数量的频道

##### 3.2 redis的发布和订阅

1. 客户端可以订阅频道如下图

![image-20231206230357532](C:\Users\86180\AppData\Roaming\Typora\typora-user-images\image-20231206230357532.png)

2. 当给这个频道发布消息后消息就会发送给订阅的客户端

![image-20231206230505522](C:\Users\86180\AppData\Roaming\Typora\typora-user-images\image-20231206230505522.png)

##### 3.3 发布和订阅的命令行实现

1.打开客户端订阅channel1

```
subscribe channel1 channel2 ... 可以订阅多个频道
```

2.打开另外一个客户端，给channel1 发布hello消息

```
publish channel1 message
```

3 切换到订阅者窗口，可以看到收到消息

##### 3.4 发布和订阅常用命令

1 subscribe订阅一个或者多个频道

```
subscribe channel [channel ...]
```

2 publish 发布消息到指定频道

```
publish channel message
```

3 psubscribe 订阅一个或多个符合给定模式的频道

```
psubscribe pattern [pattern ...]
```

> 每个模式以 * 作为匹配符，比如 it* 匹配所有以 it 开头的频道( it.news 、 it.blog 、
>
> it.tweets 等等)， news.* 匹配所有以 news. 开头的频道( news.itnews.global.today 等等)，诸如此类